# Project Structure

This document provides a comprehensive overview of the Ideation Agent project structure after cleanup and optimization.

## ğŸ“ Root Directory

```
ideation-agent/
â”œâ”€â”€ ğŸ“„ .dockerignore           # Docker ignore patterns
â”œâ”€â”€ ğŸ“„ .env                    # Environment variables (local)
â”œâ”€â”€ ğŸ“„ .env.example           # Environment template
â”œâ”€â”€ ğŸ“„ API.md                 # API documentation
â”œâ”€â”€ ğŸ“„ CONTRIBUTING.md        # Contribution guidelines
â”œâ”€â”€ ğŸ“„ Dockerfile             # Docker configuration
â”œâ”€â”€ ğŸ“„ DOCUMENTATION.md       # Additional documentation
â”œâ”€â”€ ğŸ“„ package.json           # Node.js dependencies and scripts
â”œâ”€â”€ ğŸ“„ package-lock.json      # Dependency lock file
â”œâ”€â”€ ğŸ“„ PROJECT_STRUCTURE.md   # This file
â”œâ”€â”€ ğŸ“„ README.md              # Main project documentation
â”œâ”€â”€ ğŸ“„ webpack.config.js      # Webpack build configuration
â”œâ”€â”€ ğŸ“ .claude/               # Claude settings (development)
â”œâ”€â”€ ğŸ“ build/                 # Production build output (auto-generated)
â”œâ”€â”€ ğŸ“ data/                  # SQLite database files (auto-generated)
â”œâ”€â”€ ğŸ“ logs/                  # Application logs (auto-generated)
â”œâ”€â”€ ğŸ“ node_modules/          # Node.js dependencies (auto-generated)
â””â”€â”€ ğŸ“ src/                   # Source code
```

## ğŸ—‚ï¸ Source Code Structure

### Backend (`src/backend/`)

```
src/backend/
â”œâ”€â”€ ğŸ“ config/                # Configuration files
â”‚   â””â”€â”€ ğŸ“„ config.js          # Main application configuration
â”œâ”€â”€ ğŸ“ controllers/           # Request handlers
â”‚   â”œâ”€â”€ ğŸ“„ chatController.js  # Chat message handling
â”‚   â””â”€â”€ ğŸ“„ conversationController.js # Conversation management
â”œâ”€â”€ ğŸ“ middleware/            # Express middleware
â”‚   â”œâ”€â”€ ğŸ“„ rateLimiter.js     # API rate limiting
â”‚   â””â”€â”€ ğŸ“„ validation.js      # Input validation and sanitization
â”œâ”€â”€ ğŸ“ routes/                # API route definitions
â”‚   â”œâ”€â”€ ğŸ“„ chat.js            # Chat-related endpoints
â”‚   â”œâ”€â”€ ğŸ“„ conversations.js   # Conversation management endpoints
â”‚   â””â”€â”€ ğŸ“„ index.js           # Route aggregation and initialization
â”œâ”€â”€ ğŸ“ services/              # Business logic services
â”‚   â”œâ”€â”€ ğŸ“„ cacheService.js    # In-memory caching service
â”‚   â”œâ”€â”€ ğŸ“„ databaseService.js # SQLite database operations
â”‚   â”œâ”€â”€ ğŸ“„ magenticOneService.js # AI agent orchestration
â”‚   â””â”€â”€ ğŸ“ socket/            # Real-time communication
â”‚       â””â”€â”€ ğŸ“„ socketService.js # Socket.IO handling
â”œâ”€â”€ ğŸ“ utils/                 # Utility functions
â”‚   â””â”€â”€ ğŸ“„ logger.js          # Winston logging configuration
â””â”€â”€ ğŸ“„ server.js              # Main application server
```

### Frontend (`src/frontend/`)

```
src/frontend/
â”œâ”€â”€ ğŸ“ components/            # React components
â”‚   â”œâ”€â”€ ğŸ“„ AgentStatusIndicator.jsx # Agent processing status
â”‚   â”œâ”€â”€ ğŸ“„ Chat.jsx           # Main chat interface
â”‚   â””â”€â”€ ğŸ“„ ConversationList.jsx # Sidebar conversation list
â”œâ”€â”€ ğŸ“ styles/                # CSS stylesheets
â”‚   â””â”€â”€ ğŸ“„ Chat.css           # Main application styles
â”œâ”€â”€ ğŸ“„ App.jsx                # Root React component
â”œâ”€â”€ ğŸ“„ index.html             # HTML template
â””â”€â”€ ğŸ“„ index.jsx              # Application entry point
```

## ğŸ—ƒï¸ Auto-Generated Directories

These directories are created automatically during development or deployment:

### `build/` - Production Build
- Contains compiled frontend assets
- Generated by `npm run build`
- Served statically by the Express server

### `data/` - Database Storage
- Contains SQLite database files
- Created automatically on first run
- `ideation.db` - Main application database

### `logs/` - Application Logs
- Contains Winston log files
- Rotated automatically based on configuration
- `app.log` - Main application log

### `node_modules/` - Dependencies
- Contains all Node.js dependencies
- Managed by npm
- Excluded from version control

## ğŸ“ Configuration Files

### Package Management
- `package.json` - Project metadata and dependencies
- `package-lock.json` - Exact dependency versions

### Build & Development
- `webpack.config.js` - Frontend build configuration
- `.env.example` - Environment variable template
- `.env` - Local environment variables (not in version control)

### Deployment
- `Dockerfile` - Container configuration
- `.dockerignore` - Docker build exclusions

### Development
- `.claude/settings.local.json` - Claude AI assistant settings

## ğŸ”§ File Responsibilities

### Server & Configuration
- **`server.js`** - Main application entry point, service initialization
- **`config/config.js`** - Environment-based configuration management
- **`webpack.config.js`** - Frontend bundling and development server

### API Layer
- **`routes/`** - URL routing and endpoint definitions
- **`controllers/`** - Request/response handling and business logic coordination
- **`middleware/`** - Request processing, validation, and security

### Business Logic
- **`services/`** - Core application functionality
  - Database operations
  - AI agent orchestration
  - Caching and performance optimization
  - Real-time communication

### Frontend
- **`components/`** - Reusable React UI components
- **`styles/`** - CSS styling and responsive design
- **`App.jsx`** - Main application container

### Utilities
- **`utils/logger.js`** - Centralized logging configuration
- **`middleware/validation.js`** - Input sanitization and validation

## ğŸ—„ï¸ Database Schema

The SQLite database contains the following tables:

### Conversations
- **Purpose**: Store conversation metadata
- **Fields**: id, title, created_at, updated_at, status, metadata

### Messages
- **Purpose**: Store individual chat messages
- **Fields**: id, conversation_id, role, content, agent_type, created_at, metadata

### Sessions
- **Purpose**: Store user session data
- **Fields**: id, session_data, expires_at, created_at

## ğŸš€ Build Process

### Development
1. **Frontend**: Webpack dev server with hot reload
2. **Backend**: Nodemon for automatic restarts
3. **Database**: Auto-initialization on startup

### Production
1. **Frontend**: Webpack production build with optimization
2. **Backend**: Direct Node.js execution
3. **Database**: Persistent SQLite file storage

## ğŸ” Code Organization Principles

### Separation of Concerns
- **Controllers**: Handle HTTP requests/responses
- **Services**: Contain business logic
- **Middleware**: Process requests (validation, logging, etc.)
- **Utils**: Shared utility functions

### Dependency Injection
- Services are injected into controllers
- Database service is shared across the application
- Configuration is centralized

### Error Handling
- Consistent error responses across all endpoints
- Comprehensive logging at all levels
- Graceful degradation for service failures

### Security
- Input validation and sanitization
- Rate limiting on API endpoints
- Secure headers and CORS configuration

## ğŸ§¹ Cleanup Summary

### Removed Files/Directories
- Duplicate configuration files
- Deprecated history manager
- Unused test files
- Empty service directories
- Old CSS files
- Redundant package files

### Reorganized Structure
- Consolidated frontend styles
- Streamlined backend services
- Simplified routing structure
- Unified documentation

### Added Documentation
- Comprehensive code comments
- API documentation
- Project structure guide
- Docker configuration
- Environment templates

---

This structure provides a clean, maintainable, and scalable foundation for the Ideation Agent system.